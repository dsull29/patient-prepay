<div class="container">
  <h2>Payment</h2>

  <div class="card mb-4">
    <div class="card-header bg-primary text-white">
      <h4 class="card-title">Pay Today</h4>
    </div>
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="fw-bold">
          Patient Responsibility:
        </div>
        <div>
          {{ patientResponsibility | currency }}
        </div>
      </div>
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div class="fw-bold">
          Pay Today:
        </div>
        <div>
          {{ amountDuePayNow | currency }}
        </div>
      </div>
      <div class="text-muted mb-3">
        Lock in your service today and get 50% off!
      </div>
    </div>
    <div class="card-footer">
      <div class="text-end">
        <button class="btn btn-primary" (click)="onPayNow()">Pay Now</button>
      </div>
    </div>
  </div>

  <div class="card mb-4" *ngIf="!insuranceEligible">
    <div class="card-header bg-primary text-white">
      <h4 class="card-title">Payment Plan</h4>
    </div>
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-6 fw-bold">Patient Responsibility:</div>
        <div class="col-6 text-end fw-bold">{{ patientResponsibility | currency }}</div>
      </div>
      <hr>
      <app-payment-options [options]="paymentTermOptions" (optionSelected)="onSelectTerms($event)"></app-payment-options>


      <div *ngIf="monthlyPayment > 0" class="mt-3">
        <p class="fw-bold float-end">Pay {{ monthlyPayment | currency }} per month until {{ paidInFullDate | date }}</p>
      </div>
    </div>
    <div class="card-footer">
      <button class="btn btn-primary float-end" (click)="onCreatePlan()">Create Payment Plan</button>
    </div>
  </div>
</div>
